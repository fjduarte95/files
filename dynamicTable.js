window.addEventListener('load', (event) => {
  const dataContainer = document.getElementById("data_container");
  const data = [{"INDEX":"1","WERKS":"7000","KUNNR":"0000000010","MATNR":"000000000003033745","TPMAT":"1","MASKE":"1111-#####","NAME1":"EMBOTELLADORA LAS MARGARITAS, / S.A.P.I. DE C.V.","MAKTX":"PLACA MET CTE RICA","TPDSC":"Placa"},{"INDEX":"2","WERKS":"7000","KUNNR":"0000000548","MATNR":"000000000003030349","TPMAT":"1","MASKE":"#####","NAME1":"EMBOTELLADORA ANDINA, S.A.","MAKTX":"PLACA MET CTE ANDINA","TPDSC":"Placa"},{"INDEX":"3","WERKS":"7000","KUNNR":"0000001210","MATNR":"000000000003016236","TPMAT":"1","MASKE":"#####","NAME1":"PROPIMEX S DE RL DE CV / (VIGA)","MAKTX":"PLACA MET ACTIVO FIJO COCA","TPDSC":"Placa"},{"INDEX":"4","WERKS":"7000","KUNNR":"0000001975","MATNR":"000000000003060155","TPMAT":"1","MASKE":"### ## ## #####","NAME1":"BONAFONT, S.A. DE C.V.","MAKTX":"PTA V B IZQ NAR60*43*36 FVC14 LED BON","TPDSC":"Placa"},{"INDEX":"5","WERKS":"7000","KUNNR":"0000002075","MATNR":"000000000003057890","TPMAT":"1","MASKE":"EACER##############","NAME1":"EMBOTELLADORA AGA DEL CENTRO / SA DE CV","MAKTX":"PLACA MET CTE AGA","TPDSC":"Placa"},{"INDEX":"6","WERKS":"7000","KUNNR":"0000002078","MATNR":"000000000003046723","TPMAT":"1","MASKE":"######","NAME1":"EMBOTELLADORA CENTRAL, S.A.","MAKTX":"PLACA MET CTE KOF EXP GT","TPDSC":"Placa"},{"INDEX":"7","WERKS":"7000","KUNNR":"0000002345","MATNR":"000000000003041553","TPMAT":"1","MASKE":"@#########","NAME1":"SIGMA ALIMENTOS COMERCIAL, / S.A DE C.V.","MAKTX":"PLACA MET SERIAL SIGMA","TPDSC":"Placa"},{"INDEX":"8","WERKS":"7000","KUNNR":"0000002386","MATNR":"000000000003046725","TPMAT":"1","MASKE":"###############","NAME1":"VENTAS Y MERCADEO, S.A","MAKTX":"PLACA MET CTE KOF EXP PA","TPDSC":"Placa"},{"INDEX":"9","WERKS":"7000","KUNNR":"0000003973","MATNR":"000000000003055055","TPMAT":"1","MASKE":"@###########","NAME1":"EMBOTELLADORAS BOLIVIANAS / UNIDAS S.A.","MAKTX":"PLACA MET CTE ARCA CONTL LINDLEY","TPDSC":"Placa"},{"INDEX":"10","WERKS":"7000","KUNNR":"0000003973","MATNR":"000000000003065172","TPMAT":"1","MASKE":"#######","NAME1":"EMBOTELLADORAS BOLIVIANAS / UNIDAS S.A.","MAKTX":"PLACA MET CTE EMBOL BO","TPDSC":"Placa"},{"INDEX":"11","WERKS":"7000","KUNNR":"0000004006","MATNR":"000000000003046724","TPMAT":"1","MASKE":"######","NAME1":"INDUSTRIA NACIONAL DE REFRESCOS SA","MAKTX":"PLACA MET CTE KOF EXP NI","TPDSC":"Placa"},{"INDEX":"12","WERKS":"7000","KUNNR":"0000004644","MATNR":"000000000003037021","TPMAT":"1","MASKE":"########","NAME1":"TRANSCLIMA DE CENTROAMERICA SA","MAKTX":"KIT PLACA MET CTE DOS PINOS","TPDSC":"Placa"},{"INDEX":"13","WERKS":"7000","KUNNR":"0000004824","MATNR":"000000000003059838","TPMAT":"1","MASKE":"######","NAME1":"DANONE DE MEXICO SA DE CV / (IRAPUATO, GTO.)","MAKTX":"PLACA MET CTE DANONE","TPDSC":"Placa"},{"INDEX":"14","WERKS":"7000","KUNNR":"0000007160","MATNR":"000000000003056964","TPMAT":"1","MASKE":"AB########","NAME1":"ALIMENTOS Y BEBIDAS ATLANTIDA, SA","MAKTX":"PLACA MET CTE ABASA","TPDSC":"Placa"},{"INDEX":"15","WERKS":"7000","KUNNR":"0000008753","MATNR":"000000000003050609","TPMAT":"1","MASKE":"TZ######","NAME1":"MUBEX","MAKTX":"PLACA MET CTE SAB MILLER TZ","TPDSC":"Placa"},{"INDEX":"16","WERKS":"7000","KUNNR":"0000008753","MATNR":"000000000003061366","TPMAT":"1","MASKE":"KBL######","NAME1":"MUBEX","MAKTX":"PLACA CLIENTE ZB","TPDSC":"Placa"},{"INDEX":"17","WERKS":"7000","KUNNR":"0000008753","MATNR":"000000000003061368","TPMAT":"1","MASKE":"NA######","NAME1":"MUBEX","MAKTX":"PLACA CLIENTE AB INBEV","TPDSC":"Placa"},{"INDEX":"18","WERKS":"7000","KUNNR":"0000008754","MATNR":"000000000003052130","TPMAT":"1","MASKE":"####","NAME1":"BRASSERIE  NATIONALE D HAITI S.A","MAKTX":"PLACA MET CTE BARU","TPDSC":"Placa"},{"INDEX":"19","WERKS":"7000","KUNNR":"0000009649","MATNR":"000000000003056966","TPMAT":"1","MASKE":"LV########","NAME1":"COMERCIALIZADORA Y PRODUCTORA DE / BEBIDAS LOS VOLCANES, S.A.","MAKTX":"PLACA MET CTE LOS VOLCANES","TPDSC":"Placa"},{"INDEX":"20","WERKS":"7000","KUNNR":"0000010320","MATNR":"000000000003053948","TPMAT":"1","MASKE":"30######","NAME1":"CERVECERIA MODELO DE MEXICO, / S. DE R.L. DE C.V.","MAKTX":"PLACA MET CTE MODELO","TPDSC":"Placa"},{"INDEX":"21","WERKS":"7000","KUNNR":"0000010979","MATNR":"000000000003047898","TPMAT":"1","MASKE":"######","NAME1":"UNILEVER MANUFACTURERA S DE RL DE C","MAKTX":"ETIQUETA CODIGOS EHF","TPDSC":"Placa"},{"INDEX":"22","WERKS":"7000","KUNNR":"0000014681","MATNR":"000000000003060349","TPMAT":"1","MASKE":"MOZ-###-###","NAME1":"Windward & Leeward Brewery LTD","MAKTX":"PLACA CLIENTE CDM","TPDSC":"Placa"},{"INDEX":"23","WERKS":"7000","KUNNR":"0000015977","MATNR":"000000000003060261","TPMAT":"1","MASKE":"####","NAME1":"CROWN BEERS INDIA PRIVATE LIMITED","MAKTX":"PLACA MET CTE BRANA","TPDSC":"Placa"},{"INDEX":"24","WERKS":"7000","KUNNR":"0000016963","MATNR":"000000000003063024","TPMAT":"1","MASKE":"EC#######","NAME1":"DINADEC S.A","MAKTX":"PLACA MET CTE CN","TPDSC":"Placa"},{"INDEX":"25","WERKS":"7000","KUNNR":"0000017868","MATNR":"000000000003050005","TPMAT":"1","MASKE":"#########","NAME1":"Azerbaycan Koka-Kola Bottlers LLC","MAKTX":"KIT PLACA STICKER CTE KOF TR","TPDSC":"Placa"}];

  function buildTable(array) {
    let thead = buildThead(array[0]);
    let tbody = buildTbody(array);

    return (`
      <table class="table is-striped">
        ${thead}
        ${tbody}
      </table>
    `);
  }

  function buildThead(item) {
    let cols = ``;
    let fields = Object.keys(item);

    fields.map((field) => {
      cols += (`<th> ${field} </th>`);
    });

    return (`
      <thead>
        <tr> ${cols} </tr>
      </thead>
    `);
  }

  function buildTbody(array) {
    let rows = '';

    array.map((item) => {
      let cells = '';
      let values = Object.values(item);

      values.map((value) => {
        cells += (`<td> ${value} </td>`);
      });

      rows += (`<tr> ${cells} </tr>`);
    });

    return `<tbody> ${rows} </tbody>`;
  }

  dataContainer.innerHTML = buildTable(data);
});